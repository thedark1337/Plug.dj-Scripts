/**
     * @author thedark1337
     * @author TAT
     * @author ReAnna
     * @description Gets active playlist from plug.dj and returns a download link for all media in a text file.
     * @license Copyright Â© 2012-2015 Thedark1337 and other contributors
     * This program is free software: you can redistribute it and/or modify
     * it under the terms of the GNU General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * This program is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
     * GNU General Public License for more details.
     *
     * You should have received a copy of the GNU General Public License
     * along with this program. If not, see http://www.gnu.org/licenses/.
     */
!function(){var t=require.s.contexts._.defined,a=function(){for(var a in t)if(t.hasOwnProperty(a)&&t[a]&&t[a].prototype&&_.isFunction(t[a].prototype.onContainerClick))return t[a]}(),e=function(){for(var a in t)if(t.hasOwnProperty(a)&&t[a]&&_.isFunction(t[a].dispatch)&&1===t[a].dispatch.length)return t[a]}(),r=function(){for(var a in t)if(t.hasOwnProperty(a)&&t[a]&&"ShowDialogEvent"===t[a]._name)return t[a]}(),n=a.extend({id:"dialog-plug2youtube",className:"dialog",initialize:function(){this._super()},render:function(){var t=[],a=this;$.getJSON("https://plug.dj/_/playlists",function(e){if("ok"!==e.status)return API.chatLog("Error, playlists not obtainable due to server error.");if(!(e.data&&e.data.length>0))return API.chatLog("Error, it seems you might not have playlists. Please try again.");var r=e.data,n=e.data.length,i=0;for(n;n>i;i++){var o=r[i];if(o.active){var s=o.name;$.getJSON("https://plug.dj/_/playlists/"+o.id+"/media",function(e){if("ok"!==e.status)return API.chatLog("Error getting playlist media. Please try again.");var r=e.data,n=e.data.length,i=0;for(n;n>i;i++){var o,l=r[i];1===l.format?o="https://youtube.com/watch?v="+l.cid:2===l.format&&(o="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/"+l.cid),t.push(" "+l.author+" - "+l.title+" "+o)}if(t.length>0){t=t.join("\r\n").split();var u=new Blob([t],{type:"text/plain"}),d=$("<a/>");$(d).attr("href",URL.createObjectURL(u)),$(d).attr("download",s+".txt"),$(d).text("Download Here"),a.$el.append(a.getHeader("Media2File")).append(a.getBody().append(d))}})}}})},close:function(){this._super()}});e.dispatch(new r(r.SHOW,new n))}();
//# sourceMappingURL=media2file.min.js.map